var A=Object.create;var{defineProperty:z,getPrototypeOf:B,getOwnPropertyNames:C}=Object;var D=Object.prototype.hasOwnProperty;var K=(n,g,i)=>{i=n!=null?A(B(n)):{};const P=g||!n||!n.__esModule?z(i,"default",{value:n,enumerable:!0}):i;for(let M of C(n))if(!D.call(P,M))z(P,M,{get:()=>n[M],enumerable:!0});return P};var L=(n)=>{return import.meta.require(n)};var E=(n,g)=>{for(var i in g)z(n,i,{get:g[i],enumerable:!0,configurable:!0,set:(P)=>g[i]=()=>P})};var J={};E(J,{state:()=>{{return G}},handler:()=>{{return H}},default:()=>{{return I}},_static:()=>{{return F}}});var F={global:!1,parseQuery:(n)=>{const g={};return n.split("&").map((P)=>{const[M,w]=P.split("=");g[M]=w}),g},routes:[]},G={currentPage:null,currentRoute:null,params:{},query:{},refreshing:!1},H={onInput(){console.log(this.input)},onMount(){},loadComponent(n){if(!n.component)n.component=require(n.page);return n},navigate(n,g){!g&&history.pushState({path:n},"",n);const i=n.split("?");n=i[0];const P=i[1]?this.static.parseQuery(i[1]):{};let M=null;if(this.state.currentRoute)M={name:this.state.currentRoute.name,path:this.state.currentRoute.path,params:this.state.params},this.emit("before",{fromState:M,toState:{path:n,query:P}});const w=this.match(n);if(!w)return this.state.currentPage?this.once("update",()=>this.emit("not-found",n)):setTimeout(()=>this.emit("not-found",n),200),this.setState({currentPage:null,params:{},query:{}});const{route:d,params:v}=w;this.once("update",()=>this.emit("after",{fromState:M,toState:{name:d.name,path:d.path,params:v,query:P}})),this.setState({currentPath:n,currentPage:this.loadComponent(d).component,currentRoute:d,params:v,query:P})},match(n){const g={};let i=!1;for(let P of this.static.routes){const{pathVars:M,pathRegex:w}=P,d=n.match(w);if(d!==null&&d.index===0){for(let v=0;v+1<d.length&&v<M.length;v++)g[M[v].replaceAll(/[\/:]/g,"")]=d[v+1];i=P;break}}return i?{route:i,params:g}:!1}},I="<div>Router</div>";export{G as state,H as handler,I as default,F as _static};

//# debugId=A9F439D70B2C368464756e2164756e21
